
<div class="header" id="header">
  <div class="container">
    <div class="logo-box">
      <div class="logo" style="background-image: url(./img/logo.png)"></div>
    </div>
    <div class="function-box"><a href="javascript:;" @click="lenChange()"><img src="./img/icons/globe.png" alt=""/>{{ len }}</a></div>
    <div class="hamburger" :class="active === false? '':'open'" @click="active = !active"><span></span>
      <transition name="slide">
        <ul class="menu" v-if="active">
          <li><a href="index.html#anchor-about">{{ menu[0] }}</a></li>
          <li><a href="index.html#anchor-resources">{{ menu[1] }}</a></li>
          <li><a href="index.html#anchor-takethetest">{{ menu[2] }}</a></li>
        </ul>
      </transition>
    </div>
  </div>
  <script>
    const header = Vue.createApp({
        data() {
            return {
                menu:[],
                active: false,
                len: ""
            }
        },
        created: function() {
            this.onHeaderCatch();
            this.onLenCatch();
        },
        mounted: function() {
        },
        methods: {
            onHeaderCatch: function() {
                this.menu = pageData.en.menu;
            },
            onLenCatch: function() {
                localStorage.setItem('len', 'en')
                this.len = localStorage.len;
            },
            lenChange: function() {
                if(localStorage.len === 'en') {
                    localStorage.setItem('len', '中')
                    this.len = localStorage.len;
                } else if (localStorage.len === '中') {
                    localStorage.setItem('len', 'en')
                    this.len = localStorage.len;
                }
            }
        },
        watch: {
            active: function (newActive, oldActive) {
                if (newActive == true) {
                    window.document.querySelector('body').style['overflow'] = 'hidden';
                } else {
                    window.document.querySelector('body').style['overflow'] = '';
                }
            }
        }
    });
    
    header.mount('#header');
  </script>
</div>